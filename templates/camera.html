<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gesture Dashboard</title>

<style>
body {
    margin: 0;
    background: #0f172a;
    color: white;
    font-family: "Segoe UI", Arial;
}

header {
    text-align: center;
    padding: 15px;
    font-size: 26px;
    color: #38bdf8;
    border-bottom: 1px solid #1e293b;
}

.container {
    display: flex;
    height: calc(100vh - 70px);
}

.camera {
    flex: 3;
    display: flex;
    justify-content: center;
    align-items: center;
}

.video-box {
    border: 4px solid #38bdf8;
    border-radius: 15px;
    overflow: hidden;
}

img {
    width: 850px;
}

.panel {
    flex: 1;
    background: #020617;
    padding: 20px;
    border-left: 1px solid #1e293b;
}

.card {
    border: 1px solid #1e293b;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 20px;
}

.bar {
    height: 18px;
    background: #1e293b;
    border-radius: 10px;
}

.fill {
    height: 100%;
    background: linear-gradient(90deg, #22d3ee, #38bdf8);
}

.good { color: #22c55e; }
.medium { color: #facc15; }
.poor { color: #ef4444; }
</style>
</head>

<body>

<header>ðŸŽ› Gesture Control Dashboard</header>

<div class="container">

<div class="camera">
    <div class="video-box">
        <img src="{{ url_for('video_feed') }}">
    </div>
</div>

<div class="panel">

    <div class="card">
        <h3>Gesture</h3>
        <div id="gesture">NONE</div>
    </div>

    <div class="card">
        <h3>Volume</h3>
        <div class="bar"><div id="volumeBar" class="fill"></div></div>
    </div>

    <div class="card">
        <h3>Brightness</h3>
        <div class="bar"><div id="brightnessBar" class="fill"></div></div>
    </div>

    <div class="card">
        <h3>Gesture Quality</h3>
        <div id="quality" class="good">GOOD</div>
    </div>

</div>
</div>

<script>
setInterval(() => {
    fetch("/gesture_data")
        .then(res => res.json())
        .then(data => {
            document.getElementById("gesture").innerText = data.gesture;
            document.getElementById("volumeBar").style.width = data.volume + "%";
            document.getElementById("brightnessBar").style.width = data.brightness + "%";

            let q = document.getElementById("quality");
            q.className = data.quality.toLowerCase();
            q.innerText = data.quality;
        });
}, 200);
</script>

</body>
</html>
